:root{
	--bg:#0b1220;
	--text:#e6eef8;
	--fallback:#071021;
}
html,body{
	height:100%;
	margin:0;
	padding:0;
	background:var(--bg);
	color:var(--text);
	font-family:"VT323", monospace;
}
.app{
	min-height:100vh;
	display:grid;
	grid-template-rows:auto 1fr auto;
}
.app-header{
	display:flex;
	align-items:center;
	justify-content:space-between;
	padding:0.75rem 1rem;
	background:linear-gradient(90deg,rgba(255,255,255,0.4),transparent);
	gap:var(--gap);
	border-bottom:1px solid rgba(15,23,42,0.04);
}
.brand{
	font-size:1.125rem;
	margin:0;
}
.menu-btn, .theme-btn{
	background:transparent;
	border:0;
	font:inherit;
	cursor:pointer;
	padding:0.25rem 0.5rem;
}
.app-body{
	display:grid;
	grid-template-columns:var(--sidebar-width) 1fr;
	gap:var(--gap);
	align-items:start;
	padding:1rem;
}
.sidebar{
	background:var(--panel);
	padding:1rem;
	border-radius:8px;
	box-shadow:0 1px 2px rgba(15,23,42,0.04);
	height:fit-content;
}
.nav{
	list-style:none;
	margin:0;
	padding:0;
	display:flex;
	flex-direction:column;
	gap:0.5rem;
}
.nav a{
	text-decoration:none;
	color:var(--text);
	padding:0.5rem;
	border-radius:6px;
	display:block;
}
.content{
	min-height:60vh;
}
.hero{
	background:linear-gradient(180deg,rgba(37,99,235,0.08),transparent);
	border-radius:10px;
	padding:1rem;
	margin-bottom:1rem;
	aspect-ratio:4/1;
	display:flex;
	align-items:center;
	justify-content:flex-start;
}
.hero-inner{
	max-width:60ch;
}
.grid{
	display:grid;
	grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
	gap:1rem;
}
.card{
	background:var(--panel);
	padding:1rem;
	border-radius:8px;
	box-shadow:0 1px 2px rgba(15,23,42,0.04);
}
.app-footer{
	padding:0.75rem 1rem;
	text-align:center;
	font-size:0.875rem;
	color:var(--muted);
}
@media (max-width:900px){
	.app-body{
		grid-template-columns:1fr;
	}
	.sidebar{
		order:2;
	}
	.menu-btn{
		display:inline-flex;
	}
}
@media (min-width:901px){
	.menu-btn{
		display:none;
	}
}
.light{
	--bg:#f6f7fb;
	--panel:#ffffff;
	--muted:#6b7280;
	--text:#0f172a;
	--accent:#2563eb;
}
#screen{
	position:fixed;
	inset:0;
	width:100%;
	height:100%;
	overflow:hidden;
	background:var(--fallback) center/cover no-repeat;
}
.layer{
	position:absolute;
	inset:0;
	width:100%;
	height:100%;
	display:block;
	pointer-events:none;
	user-select:none;
}
.scanlines{
	z-index: 99999;
	mix-blend-mode:overlay;
	opacity:0.45;
	background-image:url('../resources/ui/scanlines.png');
	background-repeat:repeat-y;
	background-size:auto 220%;
	background-position:0 0;
	animation:scrollDown 45s linear infinite;
	will-change:background-position,opacity;
}
#screen::before{
	content:"";
	position:absolute;
	inset:0;
	pointer-events:none;
	user-select:none;
	z-index:1;
	opacity:0;
	background-image:none;
	background-size:initial;
	mix-blend-mode:normal;
	animation:none;
	will-change:auto;
}
.bezel{
	z-index:3;
}
.vt323-regular{
	font-family:"VT323", monospace;
	font-weight:400;
	font-style:normal;
}
.overlay-text{
	position:absolute;
	left:7.5rem;
	top:6rem;
	transform:none;
	z-index:10;
	color:var(--text);
	font-size:1.25rem;
	letter-spacing:0.01em;
	text-align:left;
	pointer-events:none;
	user-select:none;
	animation:glitch 6s infinite ease-in-out;
	text-shadow:0 0 0 rgba(230,238,248,0.85);
	will-change:transform,text-shadow,opacity;
}
.overlay-text .visible-text{
	position:relative;
	display:inline-block;
	z-index:2;
	color:var(--text);
	text-shadow:
		0 1px 0 rgba(0,0,0,0.6),
		0 0 10px rgba(255,255,255,0.04);
	-webkit-font-smoothing:antialiased;
	-moz-osx-font-smoothing:grayscale;
}
.overlay-text .visible-text::before,
.overlay-text .visible-text::after{
	content:attr(data-visible);
	position:absolute;
	left:0;
	top:0;
	width:100%;
	height:100%;
	pointer-events:none;
	user-select:none;
	overflow:visible;
	white-space:nowrap;
	z-index:0;
	mix-blend-mode:screen;
	opacity:0.5;
}
.overlay-text .visible-text::before{
	color:rgba(255,0,60,0.95);
	animation:chromaA 6s infinite;
}
.overlay-text .visible-text::after{
	color:rgba(0,200,255,0.95);
	animation:chromaB 6s infinite;
}
@keyframes scrollDown{
	0%{ background-position:0 0 }
	100%{ background-position:0 -100% }
}
@keyframes chromaA{
	0%{ transform:translate(-1px,0) clip-path:polygon(0 0,100% 0,100% 100%,0 100%) }
	25%{ transform:translate(-2px,-0.5px) clip-path:polygon(0 0,100% 0,100% 88%,0 88%) }
	50%{ transform:translate(-0.5px,0.5px) clip-path:polygon(0 12%,100% 12%,100% 100%,0 100%) }
	75%{ transform:translate(-1.5px,0) clip-path:polygon(0 0,100% 0,100% 76%,0 76%) }
	100%{ transform:translate(-1px,0) clip-path:polygon(0 0,100% 0,100% 100%,0 100%) }
}
@keyframes chromaB{
	0%{ transform:translate(1px,0) clip-path:polygon(0 0,100% 0,100% 100%,0 100%) }
	25%{ transform:translate(2px,0.5px) clip-path:polygon(0 64%,100% 64%,100% 100%,0 100%) }
	50%{ transform:translate(0.5px,-0.5px) clip-path:polygon(0 0,100% 0,100% 36%,0 36%) }
	75%{ transform:translate(1.2px,0) clip-path:polygon(0 0,100% 0,100% 84%,0 84%) }
	100%{ transform:translate(1px,0) clip-path:polygon(0 0,100% 0,100% 100%,0 100%) }
}
@keyframes noiseMove{
	from{ background-position:0 0, 0 0 }
	to{ background-position:0 300px, 0 -300px }
}
@keyframes flicker{
	0%{ opacity:1; filter:brightness(1) }
	3%{ opacity:0.85; filter:brightness(0.9) }
	5%{ opacity:0.95; filter:brightness(1.02) }
	8%{ opacity:0.9; filter:brightness(0.95) }
	100%{ opacity:1; filter:brightness(1) }
}
@keyframes jitter{
	0%{ transform:translate(-50%,-50%) }
	12%{ transform:translate(calc(-50% + 0.6px),calc(-50% + 0.4px)) }
	24%{ transform:translate(calc(-50% - 0.6px),calc(-50%)) }
	36%{ transform:translate(calc(-50% + 0px),calc(-50% - 0.5px)) }
	100%{ transform:translate(-50%,-50%) }
}

@keyframes glitch{
	0%{ text-shadow: -0.6px 0 0 rgba(255,0,60,0.12), 0.6px 0 0 rgba(0,200,255,0.10) }
	50%{ text-shadow: -2px 0 6px rgba(255,0,60,0.06), 2px 0 6px rgba(0,200,255,0.05) }
	100%{ text-shadow: -0.6px 0 0 rgba(255,0,60,0.12), 0.6px 0 0 rgba(0,200,255,0.10) }
}
.console{
	position:absolute;
	left:7.5rem;
	top:9.5rem;
	width:min(60ch,70%);
	max-width:80%;
	padding:1rem;
	background:transparent;
	border-radius:6px;
	z-index:1;
	font-family:inherit;
	color:var(--text);
	font-size:0.95rem;
	line-height:1.4;
	white-space:pre-wrap;
}
.console .file-item .label{
	border-bottom:2px solid transparent;
	padding-bottom:0.08rem;
	font-family:"VT323", monospace;
}
.console .file-item.selected .label {
	border-bottom-color: #ffffff !important;
}
.console .notice{
	color:#9fb6ff;
}
.console .file-list{
	margin:0;
	padding:0;
	list-style:none;
}
.console .file-item{
	padding:0.15rem 0;
	display:flex;
	align-items:center;
	gap:0.5rem;
	white-space:nowrap;
}
.console .file-item .marker{
	width:1ch;
	text-align:right;
	opacity:0;
}
.console .file-item.selected .marker{
	opacity:1;
}
.console .file-item .label{
	border-bottom:2px solid transparent;
	padding-bottom:0.08rem;
}
.console .file-item.selected .label{
	border-bottom-color:var(--accent, #9fb6ff);
}
.denied-overlay{
	position:absolute;
	left:50%;
	top:50%;
	transform:translate(-50%,-50%);
	z-index:1;
	pointer-events:none;
	user-select:none;
	color:#ff3b3b;
	border:2px solid rgba(255,59,59,0.5);
	background:rgba(0,0,0,0.12);
	padding:0.8rem 1.25rem;
	border-radius:0;
	font-family:"VT323", monospace;
	font-weight:700;
	opacity:0;
	transition:opacity 200ms ease, transform 200ms ease;
	white-space:nowrap;
	will-change:opacity,transform;
	font-size:1.25rem;
	text-transform:uppercase;
	letter-spacing:0.12em;
	box-shadow:0 6px 18px rgba(0,0,0,0.45);
}
.denied-overlay.visible{
	opacity:1;
	transform:translate(-50%,-50%);
}
.denied-overlay.fading{
	opacity:0;
	transform:translate(-50%,-54%);
	transition:opacity 1000ms ease, transform 1000ms ease;
}
.console{ z-index:20; }
.attachment-inline{
	display:block;
	margin:0.4rem 0;
}
.attachment-box{
	display:inline-flex;
	align-items:center;
	padding:0.5rem 1rem;
	min-width:10ch;
	max-width:80%;
	border:1px solid rgba(230,238,248,0.12);
	background:transparent;
	border-radius:4px;
	cursor:pointer;
	transition:box-shadow 120ms ease, transform 120ms ease;
}
.attachment-box:focus{
	outline:none;
	box-shadow:0 0 0 3px rgba(255,255,255,0.03);
	transform:translateY(-1px);
}
.attachment-label{
	font-size:0.95rem;
	white-space:nowrap;
	overflow:hidden;
	text-overflow:ellipsis;
	color:var(--text);
}
.attachment-label::before{
	content: "> ";
	opacity:0.85;
}
.attachment-label::after{
	content: " <";
	opacity:0.85;
}
.attachment-box:hover .attachment-label{
	text-decoration:underline;
	text-decoration-thickness:1.4px;
	text-underline-offset:6px;
	text-decoration-color:#ffffff;
}
.attachment-popup-backdrop{
	position:fixed;
	inset:0;
	background:rgba(0,0,0,0.7);
	display:flex;
	align-items:center;
	justify-content:center;
	z-index:10;
}
.attachment-popup{
	position:relative;
	background:rgba(10,14,20,0.98);
	padding:1rem;
	border-radius:6px;
	max-width:90vw;
	max-height:90vh;
	box-shadow:0 20px 60px rgba(0,0,0,0.6);
	display:flex;
	flex-direction:column;
	align-items:center;
	gap:0.75rem;
}
.attachment-popup .attachment-image{
	max-width:calc(90vw - 4rem);
	max-height:calc(80vh - 4rem);
	width:auto;
	height:auto;
	border:1px solid rgba(255,255,255,0.04);
	position:relative;
	z-index:10;
}
.attachment-popup .attachment-overlay{
	position:absolute;
	left:0;
	top:0;
	z-index:20;
}
.attachment-close{
	position:absolute;
	right:-0.6rem;
	top:-0.6rem;
	background:transparent;
	border:0;
	color:#ffffff;
	font-family:"VT323", monospace;
	font-size:1.4rem;
	cursor:pointer;
	padding:0;
	border-radius:0;
	z-index:45;
	box-shadow:none;
}
.attachment-caption{
	font-size:1rem;
	color:var(--text);
	white-space:nowrap;
	overflow:hidden;
	text-overflow:ellipsis;
	max-width:80%;
}
.popup-wrap{
	scrollbar-width: thin;
	scrollbar-color: #ffffff transparent;
}
.popup-wrap::-webkit-scrollbar{
	width:12px;
	height:12px;
}
.popup-wrap::-webkit-scrollbar-track{
	background: transparent;
}
.popup-wrap::-webkit-scrollbar-thumb{
	background: #ffffff;
	border-radius: 0;
	border: 0;
	box-shadow: none;
}
.popup-wrap::-webkit-scrollbar-button{
	display: none;
	width: 0;
	height: 0;
}
.popup-wrap::-webkit-scrollbar-corner{
	background: transparent;
}
@media (max-width:600px){
	.attachment-box{ width:2rem; height:2rem; }
	.attachment-popup{ padding:0.6rem; }
	.attachment-close{ font-size:1rem; }
}
.attachment-media{
	position:relative;
	display:inline-block;
}

:where(html, body, #screen, .app, .app-header, .console, .attachment-box, .attachment-popup, .attachment-label, .attachment-caption, .attachment-close, .vt323-regular){
	font-family:"VT323", monospace !important;
}
